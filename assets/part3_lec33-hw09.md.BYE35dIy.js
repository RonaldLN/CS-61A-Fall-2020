import{_ as s,c as i,o as a,a4 as n}from"./chunks/framework.DxPg2OQI.js";const h="/CS-61A-Fall-2020/assets/cs61a_184.BGPUBhVv.png",l="/CS-61A-Fall-2020/assets/cs61a_185.CLsiHWzk.png",k="/CS-61A-Fall-2020/assets/cs61a_186.XbAIV1Qi.png",p="/CS-61A-Fall-2020/assets/cs61a_187.DCHzQLVK.png",t="/CS-61A-Fall-2020/assets/cs61a_188.BjoAAJZS.png",e="/CS-61A-Fall-2020/assets/cs61a_189.C3fMLOVP.png",E="/CS-61A-Fall-2020/assets/cs61a_190.ntFs8BsR.png",d="/CS-61A-Fall-2020/assets/cs61a_191.dbyOGHVM.png",r="/CS-61A-Fall-2020/assets/cs61a_192.DLnRpxfq.png",g="/CS-61A-Fall-2020/assets/cs61a_193.CK_zIags.png",y="/CS-61A-Fall-2020/assets/cs61a_194.DvA8xwRY.png",c="/CS-61A-Fall-2020/assets/cs61a_195.DYajeRSa.png",F="/CS-61A-Fall-2020/assets/cs61a_196.DTyZN_iK.png",o="/CS-61A-Fall-2020/assets/cs61a_197.VGACtFud.png",C="/CS-61A-Fall-2020/assets/cs61a_198.CNTrEM1Q.png",B="/CS-61A-Fall-2020/assets/cs61a_199.LklNLFju.png",m="/CS-61A-Fall-2020/assets/cs61a_200.BkHHuc98.png",T=JSON.parse('{"title":"Lecture 33 --- HW 09","description":"","frontmatter":{},"headers":[],"relativePath":"part3/lec33-hw09.md","filePath":"part3/lec33-hw09.md","lastUpdated":1710357288000}'),u={name:"part3/lec33-hw09.md"},A=n('<h1 id="lecture-33-hw-09" tabindex="-1">Lecture 33 --- HW 09 <a class="header-anchor" href="#lecture-33-hw-09" aria-label="Permalink to &quot;Lecture 33 --- HW 09&quot;">â€‹</a></h1><h2 id="lecture-33-aggregation" tabindex="-1">Lecture 33 Aggregation <a class="header-anchor" href="#lecture-33-aggregation" aria-label="Permalink to &quot;Lecture 33 Aggregation&quot;">â€‹</a></h2><h3 id="_1" tabindex="-1">1 <a class="header-anchor" href="#_1" aria-label="Permalink to &quot;1&quot;">â€‹</a></h3><p><img src="'+h+'" alt="cs61a_184" loading="lazy"></p><p>sqlä¸­çš„<em>èšåˆå‡½æ•° Aggregation function</em> ï¼Œå¯ä»¥ä½¿ç”¨å¤šè¡Œçš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚</p><ul><li><code>max</code> <code>min</code> å–æœ€å¤§/æœ€å°</li><li><code>sum</code> å–æ‰€æœ‰æ•°æ®çš„å’Œ</li><li><code>avg</code> å–æ‰€æœ‰æ•°æ®çš„å¹³å‡å€¼</li><li><code>count</code> è·å–æ•°æ®çš„ä¸ªæ•°</li></ul><p>åœ¨ä¼ å…¥å‚æ•°(åˆ—å)æ—¶ï¼Œè¿˜å¯ä»¥åœ¨å‚æ•°å‰æ·»åŠ  <code>distinct</code> ï¼Œè¡¨ç¤ºè¿™ä¸€åˆ—ä¸­é‡å¤çš„å…ƒç´ åªå–ç”¨ä¸€ä¸ªï¼Œå¯ä»¥å‚è€ƒä¸‹å›¾</p><p><img src="'+l+'" alt="cs61a_185" loading="lazy"></p><hr><p><img src="'+k+'" alt="cs61a_186" loading="lazy"></p><p><img src="'+p+`" alt="cs61a_187" loading="lazy"></p><p><em>èšåˆå‡½æ•°</em>ä¹Ÿå¯ä»¥å’Œå…¶ä»–æ™®é€šçš„è¡¨è¾¾å¼ä¸€èµ·æ··åˆä½¿ç”¨ï¼Œæ¥è·å–å…¶ä»–æœ‰ç”¨çš„ä¿¡æ¯(åŒä¸€è¡Œæ•°æ®çš„å…¶ä»–ä¿¡æ¯)ï¼Œå¦‚ä¸Šå›¾ä¸­Johnçš„æ¼”ç¤ºï¼Œ</p><p>ä½†æœ‰äº›<em>èšåˆå‡½æ•°</em>ç»“æœä¸ä¼šæ˜¯æŸè¡Œæ•°æ®ä¸­çš„æ•°å€¼ï¼Œ</p><div class="info custom-block"><p class="custom-block-title">å¼•è¿°</p><p>John:</p><p>...So, you have to be careful about selecting single values in conjunction with aggregations. Some aggregations give you a meaningful value, like <code>min</code> and <code>max</code> ; others don&#39;t, like <code>avg</code> .</p><hr><p>John:</p><p>...å½“ä½ ä¸èšåˆå‡½æ•°ä¸€èµ·é€‰æ‹©å•ä¸€å€¼æ—¶ï¼Œä½ å¿…é¡»å°å¿ƒã€‚æœ‰äº›èšåˆå‡½æ•°ä¼šç»™ä½ ä¸€ä¸ªæœ‰æ„ä¹‰çš„å€¼ï¼Œæ¯”å¦‚ <code>min</code> å’Œ <code>max</code> ï¼Œè€Œå…¶ä»–ä¸€äº›å´ä¸ä¼šï¼Œæ¯”å¦‚ <code>avg</code> ã€‚</p></div><p>å¹¶ä¸”ï¼Œä»Johnçš„demoæ¼”ç¤ºä¸­å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä½¿ç”¨ <code>min</code> æˆ– <code>max</code> æ—¶ï¼Œå³ä½¿æœ‰å¤šè¡Œæ•°æ®éƒ½æ˜¯æœ€å°/å¤§å€¼ï¼Œä½†æ˜¯å´åªæ˜¯è¿”å›äº†ä¸€ä¸ªç»“æœ</p><blockquote><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> select</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(legs), kind </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> animals;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|cat</span></span></code></pre></div></blockquote><h3 id="_2" tabindex="-1">2 <a class="header-anchor" href="#_2" aria-label="Permalink to &quot;2&quot;">â€‹</a></h3><p><img src="`+t+'" alt="cs61a_188" loading="lazy"></p><p><img src="'+e+'" alt="cs61a_189" loading="lazy"></p><p><em>åˆ†ç»„ group</em></p><p>å¯ä»¥ä½¿ç”¨ <code>group by</code> è¿›è¡Œåˆ†ç»„ï¼Œåœ¨ <code>group by</code> åå†™**(å•ä¸ªæˆ–å¤šä¸ª)åˆ—åæˆ–è¡¨è¾¾å¼**ï¼Œå°±ä¼šæŠŠæ¯ä¸ªç›¸åŒçš„å€¼å¯¹åº”çš„é‚£ä¸€è¡Œåˆ†åˆ°åŒä¸€ä¸ªç»„ï¼Œè€Œå¦‚æœä½¿ç”¨<em>èšåˆå‡½æ•°</em>å°±ä¼šåˆ†åˆ«ä½œç”¨äºæ¯ä¸ªç»„(è€Œä¸æ˜¯ä½œç”¨äºæ•´ä¸ªè¡¨æ‰€æœ‰è¡Œçš„æ•°æ®)ï¼Œå¯ä»¥å‚è€ƒä¸Šå›¾ä¸­Johnçš„demoæ¼”ç¤º</p><hr><p><img src="'+E+`" alt="cs61a_190" loading="lazy"></p><p>åœ¨<em>åˆ†ç»„</em>æ—¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>having</code> æ¥<strong>å¯¹ç»„è¿›è¡Œç­›é€‰</strong>(åŒºåˆ«äº <code>where</code> æ˜¯å¯¹å•è¡Œæ•°æ®è¿›è¡Œç­›é€‰)</p><h2 id="lecture-33-q-a" tabindex="-1">Lecture 33 Q&amp;A <a class="header-anchor" href="#lecture-33-q-a" aria-label="Permalink to &quot;Lecture 33 Q&amp;A&quot;">â€‹</a></h2><h3 id="_1-1" tabindex="-1">1 <a class="header-anchor" href="#_1-1" aria-label="Permalink to &quot;1&quot;">â€‹</a></h3><p>æœ‰äººå‘Johnæé—®çš„mentor13(åœ¨ç½‘ç«™ä¸Šæ²¡æ‰¾åˆ°)çš„ä¸€é¢˜ï¼Œ</p><div class="info custom-block"><p class="custom-block-title">å¼•è¿°</p><p>Fill in <code>skip-list</code> , which takes in a potentially nested list <code>lst</code> and a single-argument filter function <code>filter-fn</code> that returns a boolean when called, and goes through each element in order. It returns a new list that contains all elements that return true when passed into <code>filter-fn</code> . The returned list is <em>not nested</em>.</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;Doctests</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (skip-list </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) even?)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (skip-list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) odd?)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">skip-list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst filter-fn)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">helper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst lst-so-far next)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">cond</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ______)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    ______</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    ______)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pair?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ______)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                (______))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ((filter-fn (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                ______)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                ______)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (helper ______)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></div><p>äºæ˜¯è‡ªå·±å†™äº†ä¸€ä¸‹ï¼Œ</p><p>ç”±äºä¸æ¸…æ¥š <code>null?</code> å’Œ <code>pair?</code> çš„ä½œç”¨ï¼Œäºæ˜¯å…ˆè¯•äº†ä¸€ä¸‹ï¼Œå‘ç° <code>null?</code> åªåœ¨ä¼ å…¥ç©ºåˆ—è¡¨ <code>nil</code> æˆ–è€… <code>()</code> æ—¶æ‰è¿”å› <code>true</code> ï¼Œè€Œ <code>pair?</code> åªåœ¨ä¼ å…¥ä¸œè¥¿ä¸ºåˆ—è¡¨ï¼Œä¸”åˆ—è¡¨ä¸ä¸ºç©ºæ—¶è¿”å› <code>true</code> (ä¼ å…¥ <code>(())</code> æ—¶ä¹Ÿè¿”å› <code>true</code> )ã€‚</p><p>æœ€åå†™äº†å¥½ä¸€ä¼šæ‰å†™å‡ºæ¥ï¼Œè¿™é¢˜æœ‰ç‚¹å¤æ‚ï¼Œå› ä¸ºéœ€è¦æŠŠåµŒå¥—çš„åˆ—è¡¨ç»™å±•å¼€ï¼Œ</p><p>æ‰€ä»¥ä¸ºäº†å¤„ç†è¿™æ ·çš„æƒ…å†µï¼Œåœ¨è¿›å…¥æ›´æ·±å±‚çš„åˆ—è¡¨æ—¶ï¼Œå°±éœ€è¦é€šè¿‡ <code>next</code> å‚æ•°æ¥æ ‡è®°ä¹‹å‰çš„ä½ç½®(ä¸€å¼€å§‹è¿˜ä»¥ä¸º <code>next</code> æŒ‡çš„æ˜¯åˆ—è¡¨çš„ä¹‹åçš„éƒ¨åˆ†ï¼Œä½†æ˜¯æƒ³åˆ°è¿™æ ·çš„æƒ…å†µä¸€èˆ¬ä½¿ç”¨ <code>rest</code> æ¥å‘½å)ï¼Œ</p><p>æœ€å¥½æƒ³çš„å°±æ˜¯ <code>(filter-fn (car lst)</code> å’Œ <code>else</code> ä¸¤è¡Œï¼Œå› ä¸ºè¿™ä¸¤è¡Œå°±å¯¹åº”æ™®é€šçš„æƒ…å†µï¼Œå³åˆ—è¡¨ä¸æ˜¯åµŒå¥—çš„ï¼Œé‚£ä¹ˆå°±å¤§æ¦‚å¯ä»¥å¾—åˆ°</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((filter-fn (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst-so-far (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))) next))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) lst-so-far next))</span></span></code></pre></div><blockquote><p>è¿™é‡Œæˆ‘ä½¿ç”¨äº†schemeä¸­çš„ <code>append</code> å‡½æ•°ï¼Œå› ä¸ºéœ€è¦å°†ç¬¦åˆç­›é€‰æ¡ä»¶çš„å…ƒç´ æ‹¼æ¥åˆ° <code>lst-so-far</code> çš„å°¾éƒ¨ï¼Œ</p><p><code>append</code> å‡½æ•°çš„ç”¨æ³•æ˜¯ä¼ å…¥<strong>å¤šä¸ªåˆ—è¡¨</strong>ï¼Œå°†ä»–ä»¬æŒ‰é¡ºåºæ‹¼åˆ°ä¸€èµ·ï¼Œæ‰€ä»¥è¿™é‡Œçš„ä»£ç å°±å†™æˆäº† <code>(list (car lst))</code></p><blockquote><p>ä¸€å¼€å§‹å†™çš„æ˜¯</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst-so-far (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))</span></span></code></pre></div><p>ç„¶åè¿è¡Œæµ‹è¯•æ—¶å°±æŠ¥é”™äº†ğŸ˜…</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (skip-list </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) even?)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (skip-list </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) odd?)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Traceback (most recent call last):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  1     (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst-so-far (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Error: argument 0 of </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> has wrong type (int)</span></span></code></pre></div></blockquote></blockquote><p>æ¥ç€æ¥å¤„ç† <code>pair?</code> è¿™ä¸ªæƒ…å†µï¼Œæ ¹æ®åˆšæ‰çš„ä¸¤ç§æƒ…å†µå¤§æ¦‚å°±èƒ½çŒœåˆ°è¿™é‡Œåº”è¯¥å°±æ˜¯åˆ¤æ–­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ä¸æ˜¯åˆ—è¡¨ï¼Œæ‰€ä»¥ <code>(pair? (car lst))</code> ï¼Œ</p><p>äºæ˜¯å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯åˆ—è¡¨ï¼Œé‚£ä¹ˆè‚¯å®šéœ€è¦å‘å†…ç»§ç»­èµ°ï¼Œå¯ä»¥çŒœåˆ°è¿™ç§æƒ…å†µä¸‹é€’å½’è°ƒç”¨çš„ <code>helper</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼šæ˜¯ <code>(car lst)</code> ï¼Œ</p><p>ç„¶åæœ€å…³é”®çš„åœ°æ–¹åœ¨äºï¼Œéœ€è¦è®°ä½ <code>lst</code> ä¹‹åçš„å…ƒç´ ï¼Œä¸€å¼€å§‹æˆ‘ä»¥ä¸º <code>helper</code> ç¬¬ä¸‰ä¸ªå‚æ•°å°±æ˜¯ <code>(cdr lst)</code> ï¼Œä½†æƒ³åˆ°å¦‚æœå†æœ‰ä¸€å±‚åµŒå¥—çš„åˆ—è¡¨ï¼ŒåŸæœ¬çš„ <code>next</code> å°±ä¼šè¢«è¦†ç›–ä¸¢å¤±ï¼Œ</p><p>æœ€åæƒ³äº†å¥½ä¹…ç»ˆäºæƒ³åˆ°åº”è¯¥æ˜¯æŠŠä¸¤è€…åˆå¹¶åˆ°ä¸€èµ·(è¿™æ ·ä¸¤è€…çš„ä¿¡æ¯éƒ½åŒ…å«äº†)ï¼Œæ‰€ä»¥</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pair?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) lst-so-far (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cons</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) next)))</span></span></code></pre></div><p>äºæ˜¯base caseçš„æƒ…å†µå°±ä¸éš¾æƒ³äº†ï¼Œç»“æŸé€’å½’æ—¶è¿”å› <code>lst-so-far</code> å³å¯ï¼Œ</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        lst-so-far</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next) lst-so-far (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>æ‰€ä»¥ <code>skip-list</code> ä¸­çš„é‚£ä¸€è¡Œå°±æ˜¯</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(helper lst </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nil)</span></span></code></pre></div><p>å®Œæ•´çš„ç­”æ¡ˆä¸º</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">skip-list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst filter-fn)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">helper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst lst-so-far next)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">cond</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    lst-so-far</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    (helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next) lst-so-far (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pair?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                (helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) lst-so-far (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cons</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) next)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ((filter-fn (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                (helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst-so-far (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))) next))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                (helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) lst-so-far next))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (helper lst </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nil)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><p>Johnæœ€åçš„ç­”æ¡ˆå’Œæˆ‘çš„æœ‰äº›åŒºåˆ«ï¼Œä»–æ˜¯ä½¿ç”¨äº† <code>append</code> æ¥è¿æ¥ <code>(cdr lst)</code> å’Œ <code>next</code> ï¼Œ</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) lst-so-far (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) next))</span></span></code></pre></div><p>è€Œbase caseä¸­å°±æ˜¯</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    lst-so-far</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (helper next lst-so-far nil))</span></span></code></pre></div><details class="details custom-block"><summary>ä»£ç </summary><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">skip-list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst filter-fn)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">helper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst lst-so-far next)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">cond</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> next)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    lst-so-far</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    (helper next lst-so-far nil))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pair?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                (helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) lst-so-far (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) next))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ((filter-fn (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                (helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst-so-far (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst))) next))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                (helper (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lst) lst-so-far next))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (helper lst </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nil)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></details><hr><p>è€ŒJohnåˆè¯´åˆ°è¿™é¢˜æä¾›çš„ä»£ç æ¡†æ¶ä¸­çš„ <code>helper</code> å‡½æ•°ï¼Œå…¶å®è®©è¿™é¢˜å˜å¾—å¤æ‚äº†ï¼Œ <code>lst-so-far</code> å¯¹åº”ç€ä»å¤´(å·¦è¾¹)åŠ è½½ç»“æœï¼Œè€Œå¦‚æœæŒ‰ç…§ä»¥å¾€çš„æ€è·¯ï¼Œä»æœ«å°¾(å³è¾¹)åŠ è½½ç»“æœï¼Œä¼šæ›´ç®€å•ï¼Œä»£ç æ˜¯</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">skip-list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s f)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">cond</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s) nil)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s)) (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (skip-list (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s) f) (skip-list (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s) f)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ((f (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s)) (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cons</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s) (skip-list (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s) f)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (skip-list (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s) f))))</span></span></code></pre></div><h3 id="_2-1" tabindex="-1">2 <a class="header-anchor" href="#_2-1" aria-label="Permalink to &quot;2&quot;">â€‹</a></h3><p>æœ‰äººæé—®çš„17å¹´ç§‹å­£çš„æœŸæœ«è€ƒè¯•ç¬¬6é¢˜</p><div class="info custom-block"><p class="custom-block-title">å¼•è¿°</p><p><strong>Simplify! Simplify!</strong> For this problem, consider a very small subset of Scheme containing only <strong>if</strong> expression, <code>(if pred then=part else part)</code> , and atoms including symbols, <code>#t</code> for true, and <code>#f</code> for false. Such expressions can be simplified according to the following transformation rules. Here, <code>P</code> , <code>E1</code> , and <code>E2</code> are Scheme expressions in the subset, and <code>P&#39;</code> , <code>E1&#39;</code> , and <code>E2&#39;</code> are their simplified versions.</p><ul><li>The expression <code>(if P E1 E2)</code> simplified to <ul><li><code>E1&#39;</code> if <code>P&#39;</code> is <code>#t</code> .</li><li><code>E2&#39;</code> if <code>P&#39;</code> is <code>#f</code> .</li><li><code>E1&#39;</code> if <code>E1&#39;</code> equals <code>E2</code>â€˜ .</li><li>Otherwise, an <code>if</code> expression with <code>P&#39;</code> , <code>E1&#39;</code> , and <code>E2&#39;</code> as the predicate, then-part, and else-part.</li></ul></li><li>Any expression, <code>E</code> , simplies to <code>#t</code> if <code>E</code> is <em>known to be true</em> (see below); or to <code>#f</code> if it is <em>known to be false</em>.</li><li>Finally, in the expression <code>(if P E1 E2)</code> , <code>P&#39;</code> is known to be true while simplifying <code>E1</code> and is known to be false while simplifying <code>E2</code> . Initially, only <code>#t</code> is known to be true and only <code>#f</code> is known to be false.</li></ul><p>Fill in the blanks on the next page so that <code>(simp E)</code> returns the simplied version of <code>E</code> according to these rules, and the helper function <code>(simp-ontext E known-t known-f)</code> returns the simpliation of <code>E</code> given that <code>known-t</code> is a list of expressions known to be true, and <code>known-f</code> is a list of expressions known to be false.</p><p>For convenience, assume that <code>(nth k L)</code> is defined to return element <em>k</em> of list <code>L</code> (where 0 is the first), and that <code>(in? E L)</code> is defined to return true if and only if <em>E</em> is <code>equal?</code> to a member of the list <em>L</em>.</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (simp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b c))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b c)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (simp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b b))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (simp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> #t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> #f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b) c))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (simp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b c) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a d e)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b e)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (simp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> #t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a d e) f))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a d f)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (simp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b b) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b c d) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e f f)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b c f)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (simp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b c) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b c) x y) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b c) y z)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b c) x z)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (simp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b c) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b b) c) d e) f))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b c) d f)</span></span></code></pre></div><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">simp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (simp-context expr ______ ______))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">simp-context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr known-t known-f)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-expr (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pair?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        (simp-if (nth </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr) (nth </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr) (nth </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr) known-t known-f)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        expr))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">cond</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (______ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (______ </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ______)))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">simp-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pred then-part else-part known-t known-f)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((simp-pred (simp-context pred ______)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-then</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ______)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ______)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">cond</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">equal?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-pred </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) simp-then)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (______ simp-else)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (______ simp-then)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ______))))</span></span></code></pre></div></div><p>äºæ˜¯è‡ªå·±å†™äº†ä¸€ä¸‹</p><blockquote><p>é¢˜ç›®ä¸­æåˆ°ä½†è§£é‡Šå™¨ä¸­å¹¶æ²¡æœ‰çš„ä¸¤ä¸ªå‡½æ•° <code>nth</code> å’Œ <code>in?</code> ï¼Œäºæ˜¯æˆ‘è‡ªå·±ç”¨ä»£ç å®ç°</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> k L)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> k </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> L)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     (nth (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> k </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> L))))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">in?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> E L)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">cond</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> L) false)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">equal?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> E (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">car</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> L)) true)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (in? E (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cdr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> L)))))</span></span></code></pre></div></blockquote><p>çœ‹å®Œäº†é¢˜ç›®æ„Ÿè§‰æ²¡æ˜ç™½éœ€è¦å¹²ä»€ä¹ˆğŸ˜…ï¼Œä½†çœ‹åˆ°æä¾›çš„ä¾‹å­å°±æ˜ç™½äº†ã€‚</p><p>é¢˜ç›®æ˜¯è¦å®ç°åŒ–ç®€ <code>if</code> è¡¨è¾¾å¼çš„å‡½æ•°ï¼Œ</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (simp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b b))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (simp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> #t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> #f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b) c))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b</span></span></code></pre></div><p>è¿™ä¸¤ä¸ªä¾‹å­å±•ç¤ºäº†æœ€ç®€å•çš„èƒ½åŒ–ç®€çš„æƒ…å†µï¼Œ</p><ul><li>å¦‚æœæ»¡è¶³å’Œä¸æ»¡è¶³æ¡ä»¶ï¼Œè¿”å›çš„ä¸¤ç§ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆç›´æ¥è¡¨è¾¾å¼å¯ä»¥åŒ–ç®€æˆè¿™ä¸ªç»“æœ</li><li>å¦‚æœæ¡ä»¶<strong>å¯ä»¥ç¡®å®šä¸ºçœŸ</strong>ï¼Œé‚£ä¹ˆå°±è¿”å› æ»¡è¶³æ—¶çš„è¡¨è¾¾å¼çš„<strong>ç®€åŒ–ç‰ˆ</strong> ï¼Œè€Œå¦‚æœ<strong>å¯ä»¥ç¡®å®šä¸ºå‡</strong>ï¼Œå°±è¿”å› ä¸æ»¡è¶³æ—¶çš„è¡¨è¾¾å¼çš„<strong>ç®€åŒ–ç‰ˆ</strong></li></ul><p>è€Œæ›´å¤æ‚çš„æƒ…å†µå¯ä»¥å‚è€ƒç¬¬4ä¸ªä¾‹å­</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (simp </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b c) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a d e)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a b e)</span></span></code></pre></div><blockquote><p>ä¸€å¼€å§‹çœ‹åˆ°è¿™ä¸ªä¾‹å­æ²¡æƒ³æ˜ç™½è¦å¦‚ä½•å®ç°è¿™æ ·çš„æ“ä½œï¼Œä½†ä¹‹åçœ‹åˆ°äº†ä»£ç å°±æ˜ç™½äº†</p></blockquote><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œéœ€è¦ç†è§£ä¸€ä¸ª<strong>å…³é”®ä¹‹å¤„</strong>ï¼Œ <code>(if a b c)</code> èƒ½è½¬å˜æˆ <code>b</code> ï¼Œæ˜¯å› ä¸ºå¦‚æœå·²ç»è¿›å…¥åˆ°éœ€è¦è¿ç®— <code>(if a b c)</code> è¡¨è¾¾å¼æ—¶ï¼Œ<strong>è¯´æ˜ <code>a</code> å·²ç»ç¡®å®šä¸ºçœŸäº†</strong>(å› ä¸ºè”ç³»åˆ°é¢˜ç›®ä¸­è¯´åˆ° <code>known-t</code> å’Œ <code>known-f</code> æ˜¯ ç¡®å®šä¸ºçœŸ/å‡çš„è¡¨è¾¾å¼çš„åˆ—è¡¨)</p><p>ç„¶åçœ‹ä»£ç ï¼Œæ ¸å¿ƒçš„éƒ¨åˆ†æ˜¯ <code>simp-if</code> å†æ˜¯ <code>simp-context</code> ï¼Œçœ‹åˆ° <code>simp-if</code> ä¸­çš„è¿™ä¸€è¡Œï¼Œ</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((simp-pred (simp-context pred ______))) ...)</span></span></code></pre></div><p>æˆ‘å°±æ˜ç™½äº†ï¼Œ<code>simp-context</code> æ˜¯ç”¨æ¥<strong>åŒ–ç®€å•ä¸ªè¡¨è¾¾å¼</strong>ï¼Œç»§è€Œæ˜ç™½ <code>simp-if</code> æ˜¯ç”¨æ¥åŒ–ç®€ <code>if</code> è¡¨è¾¾å¼çš„ï¼Œ</p><p>å› æ­¤å¤§æ¦‚å¯ä»¥çŒœå‡ºï¼Œè¿™ä¸€è¡Œçš„ç©ºåº”è¯¥å°±æ˜¯æœ€ç®€å•çš„ <code>known-t known-f</code> ï¼Œç»§è€Œåˆå¾ˆå®¹æ˜“å¯ä»¥æƒ³åˆ° <code>simp-then</code> å’Œ <code>simp-else</code> ä¹Ÿéœ€è¦è°ƒç”¨ <code>simp-context</code> å¹¶å„è‡ªæŠŠ <code>pred</code> åŠ ä¸Š</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-then</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (simp-context then-part (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cons</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-pred known-t) known-f))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (simp-context else-part known-t (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cons</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-pred known-f)))</span></span></code></pre></div><p>äºæ˜¯æœ€åçš„ <code>cond</code> ä¸­ï¼Œå°±å¯¹åº”é¢˜ç›®ä¸­çš„å››ä¸ªæƒ…å†µï¼Œä¸éš¾å†™å‡ºä»£ç ï¼Œä½†éœ€è¦æ³¨æ„å‡è¦ä½¿ç”¨åŒ–ç®€ä¹‹åçš„è¡¨è¾¾å¼ï¼Œå…¶ä¸­æœ€åä¸€ç§æƒ…å†µå¯¹åº”ä¸èƒ½åŒ–ç®€çš„æƒ…å†µï¼Œåˆ™éœ€è¦æŠŠå„ä¸ªéƒ¨åˆ†é‡æ–°(ç”¨ <code>list</code> )æ‹¼æˆ <code>if</code> è¡¨è¾¾å¼ï¼Œ</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">cond</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">equal?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-pred </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) simp-then)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">equal?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-pred </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) simp-else)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">equal?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-then simp-else) simp-then)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &#39;if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-pred simp-then simp-else)))</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">))</span></span></code></pre></div><p>ç„¶å <code>simp-context</code> ä¸­ï¼Œå°±æ˜¯éœ€è¦åˆ¤æ–­åŒ–ç®€åçš„è¡¨è¾¾å¼ <code>simp-expr</code> (ç»™äº†è‚¯å®šæœ‰ç”¨è‚¯å®šæ˜¯è¦ç”¨ä¸Šçš„ğŸ˜…)æ˜¯ä¸æ˜¯åœ¨ <code>known-t</code> æˆ–è€… <code>known-f</code> ä¸­ï¼Œ</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">cond</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((in? simp-expr known-t) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ((in? simp-expr known-f) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-expr))</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">)</span></span></code></pre></div><p>æœ€åçš„ <code>simp</code> ä¸­å°±å¾ˆå®¹æ˜“äº†ï¼Œ</p><p>æ‰€ä»¥å®Œæ•´çš„ä»£ç æ˜¯è¿™æ ·</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">simp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (simp-context expr </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">simp-context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr known-t known-f)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-expr (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pair?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        (simp-if (nth </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr) (nth </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr) (nth </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> expr) known-t known-f)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        expr))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">cond</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((in? simp-expr known-t) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ((in? simp-expr known-f) </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-expr)))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">simp-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pred then-part else-part known-t known-f)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((simp-pred (simp-context pred known-t known-f)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-then</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      (simp-context then-part (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cons</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-pred known-t) known-f))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-else</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      (simp-context else-part known-t (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cons</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-pred known-f)))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">cond</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">equal?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-pred </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) simp-then)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">equal?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-pred </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">#f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) simp-else)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          ((</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">equal?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-then simp-else) simp-then)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &#39;if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> simp-pred simp-then simp-else)))))</span></span></code></pre></div><p>æ„Ÿè§‰è¿™é¢˜è¿˜æ˜¯æŒºæœ‰æ„æ€çš„</p><h3 id="_3" tabindex="-1">3 <a class="header-anchor" href="#_3" aria-label="Permalink to &quot;3&quot;">â€‹</a></h3><p>åœ¨æµ‹è¯•schemeä»£ç æ—¶å‘ç°ï¼Œè¯¾ç¨‹(ä¹‹å‰hwå’Œlabä¸­)æä¾›çš„schemeè§£é‡Šå™¨ä¸­å†…ç½®äº†åŠ è½½ <code>.scm</code> æ–‡ä»¶çš„å‡½æ•° <code>load</code> ï¼Œ</p><p>å‘ç°äº†å‡ ç§åŠ è½½çš„æ–¹å¼ï¼Œ</p><ul><li><p>1</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">load</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;æ–‡ä»¶å&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></li><li><p>2</p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">load</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> &#39;æ–‡ä»¶å</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div></li></ul><p>ä»¥åŠï¼Œå¦‚æœä¸æ·»åŠ æ–‡ä»¶åç¼€åï¼Œä¼šé»˜è®¤è®¤ä¸ºæ˜¯scmæ–‡ä»¶ï¼Œå³ä¼šè‡ªåŠ¨æ·»åŠ  <code>.scm</code></p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">load</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Traceback (most recent call last):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  0     (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">load</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Error: </span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Errno 2</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> No such file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">or</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> directory: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&#39;a.scm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">load</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Traceback (most recent call last):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  0     (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">quote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ../a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Error: </span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">[</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Errno 2</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> No such file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">or</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> directory: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;../a.scm&#39;</span></span></code></pre></div><h2 id="lecture-34-database" tabindex="-1">Lecture 34 Database <a class="header-anchor" href="#lecture-34-database" aria-label="Permalink to &quot;Lecture 34 Database&quot;">â€‹</a></h2><h3 id="_1-2" tabindex="-1">1 <a class="header-anchor" href="#_1-2" aria-label="Permalink to &quot;1&quot;">â€‹</a></h3><p><img src="`+d+'" alt="cs61a_191" loading="lazy"></p><p>sqlä¸­åˆ›å»ºæ•°æ®è¡¨çš„æ“ä½œï¼Œ</p><p>Johnè¯´åˆ°ï¼Œåªéœ€è¦æŒæ¡éƒ¨åˆ†å³å¯(å›¾ä¸­é»‘è‰²çš„éƒ¨åˆ†)</p><hr><p><img src="'+r+'" alt="cs61a_192" loading="lazy"></p><p>åˆ é™¤è¡¨çš„æ“ä½œ</p><hr><p><img src="'+g+`" alt="cs61a_193" loading="lazy"></p><p>åœ¨è¡¨ä¸Šçš„æ’å…¥çš„æ“ä½œ</p><hr><p>Johnçš„demoæ¼”ç¤º</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes(n, prime);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> drop</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> table</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> if</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> exists</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Error: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">no</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> such </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: primes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> table</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes(n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UNIQUE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, prime </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DEFAULT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> INSERT INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> INSERT INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes(n) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">VALUES</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> INSERT INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes(n) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> INSERT INTO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes(n) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">17</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">21</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">22</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">23</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span></code></pre></div><hr><p><img src="`+y+`" alt="cs61a_194" loading="lazy"></p><p>æ›´æ–°è¡¨ä¸­åˆ—çš„æ•°æ®çš„æ“ä½œ <code>update</code></p><p>Johnçš„demoæ¼”ç¤º</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> UPDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">17</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">21</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">22</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">23</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> UPDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> UPDATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">17</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">21</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">22</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">23</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span></code></pre></div><hr><p><img src="`+c+`" alt="cs61a_195" loading="lazy"></p><p>è¡¨ä¸­åˆ é™¤çš„æ“ä½œ</p><p>Johnçš„demoæ¼”ç¤º</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DELETE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> prime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> select</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> primes;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">17</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">19</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">23</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span></code></pre></div><h3 id="_2-2" tabindex="-1">2 <a class="header-anchor" href="#_2-2" aria-label="Permalink to &quot;2&quot;">â€‹</a></h3><p>John demoæ¼”ç¤ºäº†å¦‚ä½•åœ¨pythonä¸­ä½¿ç”¨sql</p><p><img src="`+F+`" alt="cs61a_196" loading="lazy"></p><ul><li><p>ä½¿ç”¨ <code>sqlite3.Connection(&quot;xxx.db&quot;)</code> æ¥åŠ è½½dbæ–‡ä»¶ï¼Œç„¶åä¼šè¿”å›ä¸€ä¸ª <code>Connection</code> ç±»çš„å®ä¾‹</p><blockquote><p>dbæ–‡ä»¶æ˜¯<em>æ•°æ®åº“ database</em>æ–‡ä»¶</p></blockquote></li><li><p>ä½¿ç”¨ <code>execute</code> æ–¹æ³•å¯ä»¥æ‰§è¡Œsqlçš„å‘½ä»¤/è¯­å¥</p><p>å¹¶ä¸”ï¼Œå¯ä»¥æœ‰å¦‚ä¸Šå›¾ä¸­çš„è¿™æ ·çš„æ“ä½œ</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">db.execute(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;INSERT INTO nums VALUES (?), (?), (?);&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div></li><li><p>è°ƒç”¨ <code>execute</code> æ–¹æ³•ï¼Œæ–¹æ³•çš„è¿”å›å€¼æœ‰ <code>fetchall</code> æ–¹æ³•ï¼Œå¯ä»¥å°†æœ¬æ¥åº”è¯¥æ˜¾ç¤ºçš„æ•°æ®è½¬æ¢æˆå…ƒç»„ï¼Œå¦‚ä¸Šå›¾ä¸­çš„</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(db.execute(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SELECT * FROM nums;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).fetchall())</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/lec$ python3 ex.py</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,), (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,)]</span></span></code></pre></div></li><li><p>ä½¿ç”¨ <code>commit</code> æ–¹æ³•å¯ä»¥å°†æ•°æ®å‚¨å­˜åˆ°å¯¹åº”çš„dbæ–‡ä»¶ä¸­ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ä¼šæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œä¸Šå›¾Johnçš„demoæ¼”ç¤ºä¸­ï¼Œè¿è¡Œ <code>python3 ex.py</code> å‰å·²ç»è¿è¡Œ <code>rm n.db</code> å‘½ä»¤</p></li></ul><h3 id="_3-1" tabindex="-1">3 <a class="header-anchor" href="#_3-1" aria-label="Permalink to &quot;3&quot;">â€‹</a></h3><p><img src="`+o+'" alt="cs61a_197" loading="lazy"></p><p>Johnè¯´é“ï¼Œä¸ºäº†é¿å…åœ¨pythonä¸­ä½¿ç”¨sqlï¼Œæ’å…¥æŸäº›ç‰¹æ®Šçš„åå­—è€Œå¼•å‘çš„ä¸€äº›é”™è¯¯ï¼Œè¦(å¦‚ä¸Šå›¾)ä½¿ç”¨ <code>execute</code> æ–¹æ³•æ¥æ’å…¥åå­—ï¼Œ</p><p>è€Œä¸æ˜¯ä½¿ç”¨pythonçš„å­—ç¬¦ä¸²æ‹¼æ¥å’Œ <code>executescript</code> æ–¹æ³•( <code>executescript</code> æ–¹æ³•ä¼šæ‰§è¡Œå¤šè¡Œsqlè¯­å¥)</p><h2 id="lecture-34-q-a" tabindex="-1">Lecture 34 Q&amp;A <a class="header-anchor" href="#lecture-34-q-a" aria-label="Permalink to &quot;Lecture 34 Q&amp;A&quot;">â€‹</a></h2><h3 id="_1-3" tabindex="-1">1 <a class="header-anchor" href="#_1-3" aria-label="Permalink to &quot;1&quot;">â€‹</a></h3><p><img src="'+C+'" alt="cs61a_198" loading="lazy"></p><p>Johnè§£é‡Šä¹‹å‰è¯¾ä¸Šç”¨pythonå’Œsqlæ¨¡æ‹Ÿ<em>èµŒåœº21ç‚¹ Casino Blackjack</em>æ¸¸æˆçš„ä»£ç ä¸­çš„ <code>sqlite3.Connection</code> ç±»çš„å…·ä½“ä½œç”¨</p><div class="info custom-block"><p class="custom-block-title">å¼•è¿°</p><p>John:</p><p>The question is, here are some demos from today&#39;s lecture. There&#39;s this line that&#39;s like &quot;build a connection&quot; to some database,</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">db </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sqlite3.Connection(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;number.db&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>and then, you know, we give it a name â€“ give it any name you want, &quot;db&quot; or &quot;n&quot; or something like that. What would happen if you evaluated this same expression a second time? Would that give you a new database or the same database, or would it erase the old one? Like, what&#39;s the story?</p><p>And the story is that this name, which describes the name of a file on your file system, is a database that won&#39;t ever just get erased. Instead, it&#39;s persistent. Even if you quit Python and start Python again, it will retain whatever information was in it before. If you evaluate this expression multiple times, then you just get multiple connections to the same database with the same data in it, and that&#39;s okay. Actually, databases are designed to have multiple connections.</p><p>And what do these connections mean? That means different programs might all be changing the database or querying the database at the same time. But that doesn&#39;t mean that the database is going to get refreshed or changed or something like that. It basically just stays there and accumulates information over time. If one program changes it and then another program queries it, that second program is going to see the changes from the first program.</p><p>So, I think within a particular Python program, there really isn&#39;t a good reason to have multiple connections. Usually, those multiple connections come from multiple Python programs, or maybe they&#39;re not all Python, but you certainly could do it, and I don&#39;t think anything would break.</p><hr><p>John:</p><p>é—®é¢˜æ˜¯ï¼Œè¿™é‡Œæœ‰ä»Šå¤©è®²åº§ä¸­çš„ä¸€äº›æ¼”ç¤ºã€‚æœ‰è¿™æ ·ä¸€è¡Œä»£ç ï¼Œç±»ä¼¼äºâ€œå»ºç«‹ä¸€ä¸ªè¿æ¥â€åˆ°æŸä¸ªæ•°æ®åº“ï¼Œ</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">db </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sqlite3.Connection(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;number.db&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>ç„¶åï¼Œä½ çŸ¥é“ï¼Œæˆ‘ä»¬ç»™å®ƒä¸€ä¸ªåå­— - éšä¾¿å–ä¸ªåå­—ï¼Œæ¯”å¦‚â€œdbâ€æˆ–â€œnâ€ä¹‹ç±»çš„ã€‚å¦‚æœä½ å¤šæ¬¡è¯„ä¼°ç›¸åŒçš„è¡¨è¾¾å¼ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿè¿™ä¼šç»™ä½ ä¸€ä¸ªæ–°çš„æ•°æ®åº“è¿˜æ˜¯ç›¸åŒçš„æ•°æ®åº“ï¼Œæˆ–è€…ä¼šæ“¦é™¤æ—§çš„æ•°æ®åº“ï¼Ÿè¿™æ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ</p><p>æ•…äº‹æ˜¯ï¼Œè¿™ä¸ªæè¿°ä½ æ–‡ä»¶ç³»ç»Ÿä¸Šæ–‡ä»¶åçš„åç§°æ˜¯ä¸€ä¸ªæ•°æ®åº“ï¼Œå®ƒä¸ä¼šè¢«è½»æ˜“æ“¦é™¤ã€‚ç›¸åï¼Œå®ƒæ˜¯æŒä¹…çš„ã€‚å³ä½¿ä½ é€€å‡º Python å¹¶é‡æ–°å¯åŠ¨ Pythonï¼Œå®ƒå°†ä¿ç•™ä¹‹å‰çš„æ‰€æœ‰ä¿¡æ¯ã€‚å¦‚æœä½ å¤šæ¬¡è¯„ä¼°è¿™ä¸ªè¡¨è¾¾å¼ï¼Œé‚£ä¹ˆä½ åªæ˜¯å¾—åˆ°å¯¹åŒä¸€ä¸ªæ•°æ®åº“çš„å¤šä¸ªè¿æ¥ï¼Œå…¶ä¸­åŒ…å«ç›¸åŒçš„æ•°æ®ï¼Œè¿™æ˜¯å¯ä»¥çš„ã€‚å®é™…ä¸Šï¼Œæ•°æ®åº“è¢«è®¾è®¡ä¸ºå…·æœ‰å¤šä¸ªè¿æ¥ã€‚</p><p>é‚£ä¹ˆè¿™äº›è¿æ¥æ„å‘³ç€ä»€ä¹ˆï¼Ÿè¿™æ„å‘³ç€ä¸åŒçš„ç¨‹åºå¯èƒ½ä¼šåŒæ—¶æ›´æ”¹æ•°æ®åº“æˆ–æŸ¥è¯¢æ•°æ®åº“ã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€æ•°æ®åº“ä¼šè¢«åˆ·æ–°ã€æ›´æ”¹æˆ–ç±»ä¼¼çš„äº‹æƒ…ã€‚å®ƒåŸºæœ¬ä¸Šå°±åœ¨é‚£é‡Œï¼Œå¹¶éšç€æ—¶é—´ç´¯ç§¯ä¿¡æ¯ã€‚å¦‚æœä¸€ä¸ªç¨‹åºæ›´æ”¹äº†å®ƒï¼Œç„¶åå¦ä¸€ä¸ªç¨‹åºæŸ¥è¯¢å®ƒï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªç¨‹åºå°†çœ‹åˆ°ç¬¬ä¸€ä¸ªç¨‹åºçš„æ›´æ”¹ã€‚</p><p>å› æ­¤ï¼Œæˆ‘è®¤ä¸ºåœ¨ä¸€ä¸ªç‰¹å®šçš„ Python ç¨‹åºä¸­ï¼Œæ²¡æœ‰çœŸæ­£éœ€è¦æœ‰å¤šä¸ªè¿æ¥çš„å¥½ç†ç”±ã€‚é€šå¸¸ï¼Œè¿™äº›å¤šä¸ªè¿æ¥æ¥è‡ªå¤šä¸ª Python ç¨‹åºï¼Œæˆ–è€…å®ƒä»¬å¹¶éå…¨éƒ¨éƒ½æ˜¯ Pythonï¼Œä½†ä½ å½“ç„¶å¯ä»¥è¿™æ ·åšï¼Œæˆ‘è®¤ä¸ºä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ã€‚</p></div><h3 id="_2-3" tabindex="-1">2 <a class="header-anchor" href="#_2-3" aria-label="Permalink to &quot;2&quot;">â€‹</a></h3><p><img src="'+B+`" alt="cs61a_199" loading="lazy"></p><p>æœ‰äººæé—®schemeä¸­åœ¨ <code>let</code> ä¸­çš„ <code>define</code> æ˜¯å¦ä¼šå½±å“åˆ°å…¨å±€æ¡†æ¶ï¼Œ</p><p>Johnè¿›è¡Œæ¼”ç¤ºï¼Œå‘ç° <strong><code>let</code> è¯­å¥ä¸­åµŒå¥—çš„ <code>define</code> è¯­å¥å¹¶ä¸ä¼šä¿®æ”¹ä¸Šä¸€å±‚æ¡†æ¶ï¼Œè€Œåªä¼šä¿®æ”¹ <code>let</code> çš„æ¡†æ¶</strong></p><div class="language-scheme vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scheme</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((x </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a x) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Traceback (most recent call last):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  0     a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Error: unknown identifier: a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scm&gt; (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((x </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">define</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a x) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x a))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">2</span></span></code></pre></div><h3 id="_3-2" tabindex="-1">3 <a class="header-anchor" href="#_3-2" aria-label="Permalink to &quot;3&quot;">â€‹</a></h3><p><img src="`+m+`" alt="cs61a_200" loading="lazy"></p><p>æœ‰äººæé—®sqlä¸­ <code>select</code> èƒ½ä¸èƒ½åµŒå¥—åœ¨ <code>where</code> ä¸­ï¼Œäºæ˜¯Johnæ¼”ç¤ºäº†ä¸€ç§ç”¨æ³•</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numbers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">UNION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> UNION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> UNION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numbers;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sqlite</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numbers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MAX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NUMBERS) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span></code></pre></div><p>ä¸€å¼€å§‹è¿˜æ²¡ç†è§£è¿™æ˜¯ä»€ä¹ˆæ„æ€ğŸ˜…ï¼Œçœ‹äº†ä¸€ä¼šä¹‹åæ‰æ˜ç™½ï¼Œæ‹¬å·å†…çš„ <code>select</code> è¯­å¥å¤§æ¦‚æ˜¯ä»åŸæ¥çš„è¡¨åˆ›å»ºäº†ä¸€è¡Œæ–°çš„æ•°æ®ï¼Œç„¶åç”¨è¿™è¡Œæ–°çš„æ•°æ®åœ¨ <code>where</code> ä¸­è¿›è¡Œç­›é€‰ï¼Œæ‰€ä»¥è¿™é‡Œ <code>MAX(n)</code> æœ€åè·å¾—çš„æ˜¯5ï¼Œè€Œå°äº5çš„åªæœ‰1 2 3</p><p>ä½†æ˜¯è§‰å¾—è¿™ç§ç”¨æ³•ç¡®å®å¦‚åŒJohnè¯´çš„ä¸€æ ·æ²¡ä»€ä¹ˆå¤ªå¤§çš„ä½œç”¨ğŸ˜…</p><h2 id="hw-09" tabindex="-1">HW 09 <a class="header-anchor" href="#hw-09" aria-label="Permalink to &quot;HW 09&quot;">â€‹</a></h2><h3 id="_1-4" tabindex="-1">1 <a class="header-anchor" href="#_1-4" aria-label="Permalink to &quot;1&quot;">â€‹</a></h3><p>Q2ä¸­ï¼Œä¸€å¼€å§‹æƒ³çš„æ˜¯åˆ¤æ–­çˆ¶æ¯åœ¨ä¸åœ¨ <code>parents</code> ä¸­ï¼Œä½†æœ€åå‘ç°æ’åºéœ€è¦æŒ‰ç…§çˆ¶æ¯çš„èº«é«˜æ¥æ’åºï¼Œæ‰€ä»¥å‘ç°åªèƒ½åˆ¤æ–­å­å¥³åœ¨ä¸åœ¨ <code>parents</code> ä¸­ï¼Œ</p><p>å¹¶ä¸”éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ˜¯ä»é«˜åˆ°çŸ®æ’åºï¼Œæ‰€ä»¥éœ€è¦ä¹˜ä¸€ä¸ª <code>-1</code> (ä¸€å¼€å§‹æ²¡æ³¨æ„ç»“æœåˆšå¥½åè¿‡æ¥äº†ğŸ˜…)</p><details class="details custom-block"><summary>ä»£ç </summary><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> by_parent_height</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AS</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    select</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">child</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parents </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a, dogs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    where</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> order by</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">height</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></details><h3 id="_2-4" tabindex="-1">2 <a class="header-anchor" href="#_2-4" aria-label="Permalink to &quot;2&quot;">â€‹</a></h3><p>Q3é¢˜ç›®çš„æç¤ºä¸­æåˆ°sqlä¸­è¿æ¥å­—ç¬¦ä¸²è¦ä½¿ç”¨ <code>||</code></p><blockquote><p><strong>Hint</strong>: In order to concatenate two strings into one, use the <code>||</code> operator.</p></blockquote><details class="details custom-block"><summary>ä»£ç </summary><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> siblings</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AS</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    select</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">child</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> first_child, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">child</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> second_child </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parents </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a, parents </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    where</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">child</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">child</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> and</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sentences</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AS</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    select</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;The two siblings, &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">first_child</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; plus &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">second_child</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; have the same size: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> siblings </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a, size_of_dogs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b, size_of_dogs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    where</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">first_child</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> and</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">second_child</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> c</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> and</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> c</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></details>`,145),b=[A];function f(D,_,v,q,x,w){return a(),i("div",null,b)}const L=s(u,[["render",f]]);export{T as __pageData,L as default};
